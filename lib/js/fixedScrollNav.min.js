import smoothscroll from"smoothscroll-polyfill";function init(){smoothscroll.polyfill(),document.querySelector(".fixedScrollNav__container")&&(detectScroll(),init__goToPreviousSection(),init__goToNextSection(),toggleButtons())}function init__goToPreviousSection(){const e=document.querySelector(".fixedScrollNav__button--previous");e.tabIndex="0",e.setAttribute("role","button"),e.addEventListener("click",function(){scrollToPreviousSection()}),e.addEventListener("keypress",e=>{"Enter"===e.key&&scrollToPreviousSection()})}function detectScroll(){document.addEventListener("scroll",toggleButtons)}function toggleButtons(){let e=getCurrentSection_index();const t=document.querySelector(".fixedScrollNav__button--previous"),o=document.querySelector(".fixedScrollNav__button--next");let n=document.querySelectorAll("[data-fixedScrollNav-section]");n=[...n],0==e?t.classList.add("hide"):t.classList.remove("hide"),e==n.length-1||window.innerHeight+window.pageYOffset>=document.body.offsetHeight?o.classList.add("hide"):o.classList.remove("hide")}function init__goToNextSection(){const e=document.querySelector(".fixedScrollNav__button--next");e.tabIndex="0",e.setAttribute("role","button"),e.addEventListener("click",function(){scrollToNextSection()}),e.addEventListener("keypress",e=>{"Enter"===e.key&&scrollToNextSection()})}function getCurrentSection_index(){return[...document.querySelectorAll("[data-fixedScrollNav-section]")].findIndex(e=>{let t=e.getBoundingClientRect().top;t-=1;let o=e.getBoundingClientRect().height;return t<=0&&t>-Math.abs(o)})}function scrollToPreviousSection(){let e=getCurrentSection_index();if(-1!==e){let t=document.querySelectorAll("[data-fixedScrollNav-section]"),o=(t=[...t])[e];if(o.getBoundingClientRect().top<-1)o.scrollIntoView({block:"start",behavior:"smooth"});else{let o=t[e-1];o&&o.scrollIntoView({block:"start",behavior:"smooth"})}}}function scrollToNextSection(){let e=getCurrentSection_index();if(-1!==e){let t=document.querySelectorAll("[data-fixedScrollNav-section]"),o=(t=[...t])[e+1];o&&o.scrollIntoView({block:"start",behavior:"smooth"})}}module.exports.init=init;